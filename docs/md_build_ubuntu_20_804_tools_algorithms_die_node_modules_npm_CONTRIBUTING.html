<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fuzzuf: npm CLI Contributor Roles and Responsibilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fuzzuf
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">npm CLI Contributor Roles and Responsibilities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md3810"></a>
Table of Contents</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#code-structure">Code Structure</a></li>
<li><a href="#running-tests">Running Tests</a></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#coverage">Coverage</a></li>
<li><a href="#benchmarking">Benchmarking</a></li>
<li><a href="#types-of-contributions">Types of Contributions</a><ul>
<li><a href="#contributing-an-issue">Contributing an Issue?</a></li>
<li><a href="#contributing-a-question">Contributing a Question?</a></li>
<li><a href="#contributing-a-bug-fix">Contributing a Bug Fix?</a></li>
<li><a href="#contributing-a-bug-feature">Contributing a Feature?</a></li>
</ul>
</li>
<li><a href="#development-dependencies">Development Dependencies</a></li>
<li><a href="#dependencies">Dependencies</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md3811"></a>
Introduction</h1>
<p>Welcome to the npm CLI Contributor Guide! This document outlines the npm CLI repository's process for community interaction and contribution. This includes the issue tracker, pull requests, wiki pages, and, to a certain extent, outside communication in the context of the npm CLI. This is an entry point for anyone wishing to contribute their time and effort to making npm a better tool for the JavaScript community!</p>
<p>All interactions in the npm repository are covered by the <a href="https://www.npmjs.com/policies/conduct">npm Code of Conduct</a></p>
<h1><a class="anchor" id="autotoc_md3812"></a>
Code Structure</h1>
<div class="fragment"><div class="line">/</div>
<div class="line">â”œâ”€â”€ bin/</div>
<div class="line">â”‚   â”‚                  # Directory for executable files. It&#39;s very rare that you</div>
<div class="line">â”‚   â”‚                  # will need to update a file in this directory.</div>
<div class="line">â”‚   â”‚</div>
<div class="line">â”‚   â”œâ”€â”€ npm               # npm-cli entrypoint for bourne shell</div>
<div class="line">â”‚   â”œâ”€â”€ npm-cli.js        # npm-cli entrypoint for node</div>
<div class="line">â”‚   â”œâ”€â”€ npm.cmd           # npm-cli entrypoint for windows</div>
<div class="line">â”‚   â”œâ”€â”€ npx               # npx entrypoint for bourne shell</div>
<div class="line">â”‚   â”œâ”€â”€ npx-cli.js        # npx entrypoint for node</div>
<div class="line">â”‚   â””â”€â”€ npx.cmd           # npx entrypoint for windows</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ docs/  ðŸ“–</div>
<div class="line">â”‚   â”‚                  # Directory that contains the documentation website for</div>
<div class="line">â”‚   â”‚                  # the npm-cli. You can run this website locally, and have</div>
<div class="line">â”‚   â”‚                  # offline docs! ðŸ”¥ðŸ“–ðŸ¤“</div>
<div class="line">â”‚   â”‚</div>
<div class="line">â”‚   â”œâ”€â”€ content/          # Markdown files for site content</div>
<div class="line">â”‚   â”œâ”€â”€ src/              # Source files for the website; gatsby related</div>
<div class="line">â”‚   â””â”€â”€ package.json      # Site manifest; scripts and dependencies</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ lib/  ðŸ“¦</div>
<div class="line">â”‚                      # All the Good Bits(tm) of the CLI project live here</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ node_modules/  ðŸ”‹</div>
<div class="line">â”‚                      # Vendored dependencies for the CLI project (See the</div>
<div class="line">â”‚                      # dependencies section below for more details).</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ scripts/  ðŸ“œ</div>
<div class="line">â”‚                      # We&#39;ve created some helper scripts for working with the</div>
<div class="line">â”‚                      # CLI project, specifically around managing our vendored</div>
<div class="line">â”‚                      # dependencies, merging in pull-requests, and publishing</div>
<div class="line">â”‚                      # releases.</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ test/  ðŸ§ª</div>
<div class="line">â”‚                      # All the tests for the CLI live in this folder. We&#39;ve</div>
<div class="line">â”‚                      # got a lot of tests ðŸ¤“ðŸ§ªðŸ©º</div>
<div class="line">â”‚</div>
<div class="line">â”œâ”€â”€ CONTRIBUTING.md       # This file! ðŸŽ‰</div>
<div class="line">â””â”€â”€ package.json          # The projects main manifest file ðŸ“ƒ</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3813"></a>
Running Tests</h1>
<div class="fragment"><div class="line"># Make sure you install the dependencies first before running tests.</div>
<div class="line">$ npm install</div>
<div class="line"> </div>
<div class="line"># Run tests for the CLI (it could take awhile).</div>
<div class="line">$ npm run test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3814"></a>
Debugging</h1>
<p>It can be tricky to track down issues in the CLI. It's a large code base that has been evolving for over a decade. There is a handy <code>make</code> command that will connect the <b>cloned repository</b> you have on your machine with the global command, so you can add <code>console.log</code> statements or debug any other way you feel most comfortable with.</p>
<div class="fragment"><div class="line"># Clone the repository to start with</div>
<div class="line">$ git clone git@github.com:npm/cli.git</div>
<div class="line"> </div>
<div class="line"># Change working directories into the repository</div>
<div class="line">$ cd cli</div>
<div class="line"> </div>
<div class="line"># Make sure you have the latest code (if that&#39;s what you&#39;re trying to debug)</div>
<div class="line">$ git fetch origin latest</div>
<div class="line"> </div>
<div class="line"># Connect repository to the global namespace</div>
<div class="line">$ make link</div>
<div class="line"> </div>
<div class="line">#################</div>
<div class="line"># ALTERNATIVELY</div>
<div class="line">#################</div>
<div class="line"># If ou&#39;re working on a feature or bug, you can run the same command on your</div>
<div class="line"># working branch and link that code.</div>
<div class="line"> </div>
<div class="line"># Create new branch to work from (there are many ways)</div>
<div class="line">$ git checkout -b feature/awesome-feature</div>
<div class="line"> </div>
<div class="line"># Connect repository to global namespace</div>
<div class="line">$ make link</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3815"></a>
Coverage</h1>
<p>We try and make sure that each new feature or bug fix has tests to go along with them in order to keep code coverages consistent and increasing. We are actively striving for 100% code coverage!</p>
<div class="fragment"><div class="line"># You can run the following command to find out coverage</div>
<div class="line">$ npm run test-coverage</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3816"></a>
Benchmarking</h1>
<p>We often want to know if the bug we've fixed for the feature we've added has any sort of performance impact. We've created a <a href="https://github.com/npm/benchmarks">benchmark suite</a> to run against the CLI project from pull-requests. If you would like to know if there are any performance impacts to the work you're contributing, simply do the following:</p>
<ol type="1">
<li>Make a pull-request against this repository</li>
<li>Add the following comment to the pull-request: "`test this please âœ…`"</li>
</ol>
<p>This will trigger the <a href="https://github.com/npm/benchmarks">benmark suite</a> to run against your pull-request, and when it's finished running it will post a comment on your pull-request just like bellow. You'll be able to see the results from the suite inline in your pull-request.</p>
<blockquote class="doxtable">
<p>You'll notice that the bot-user will also add a ðŸš€ reaction to your comment to </p>
</blockquote>
<p>let you know that it's sent the request to start the benchmark suite.</p>
<p><img src="https://user-images.githubusercontent.com/2818462/72312698-e2e57f80-3656-11ea-9fcf-4a8f6b97b0d1.png" alt="image" class="inline"/></p>
<p>If you've updated your pull-reuqest and you'd like to run the the benchmark suite again, simple update your original comment, by adding <code>test this please âœ…</code> again, or simply just adding another emoji to the <b>end</b>. _(The trigger is the phrase "test this please âœ…" at the beginning of a comment. Updates will trigger as well, so long as the phrase stays at the beginning.)_.</p>
<p><img src="https://user-images.githubusercontent.com/2818462/72313006-ec231c00-3657-11ea-9bd9-227634d67362.png" alt="image" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md3817"></a>
Types of Contributions</h1>
<h2><a class="anchor" id="autotoc_md3818"></a>
Contributing an Issue?</h2>
<p>Great!! Is your <a href="https://github.com/npm/cli/issues/new/choose">new issue</a> a <a href="https://github.com/npm/cli/issues/new?template=bug.md&amp;title=%5BBUG%5D+%3Ctitle%3E">bug</a>, a <a href="https://github.com/npm/cli/issues/new?template=feature.md&amp;title=%5BFEATURE%5D+%3Ctitle%3E">feature</a>, or a <a href="https://github.com/npm/cli/issues/new?template=question.md&amp;title=%5BQUESTION%5D+%3Ctitle%3E">question</a>?</p>
<h2><a class="anchor" id="autotoc_md3819"></a>
Contributing a Question?</h2>
<p>Huh? ðŸ¤” Got a situation you're not sure about?! Perfect! We've got some resources you can use.</p>
<ul>
<li>Our <a href="https://docs.npmjs.com/">documentation site</a></li>
<li>The local docs that come with the CLI project</li>
</ul>
<blockquote class="doxtable">
<p><b>Example</b>: <code>npm help install --viewer browser</code> </p>
</blockquote>
<ul>
<li>The man pages that are built and shipped with the CLI</li>
</ul>
<blockquote class="doxtable">
<p><b>Example</b>: <code>man npm-install</code> (only on linux/macOS) </p>
</blockquote>
<ul>
<li>Search of the <a href="https://github.com/npm/cli/issues">current issues</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md3820"></a>
Contributing a Bug Fix?</h2>
<p>We'd be happy to triage and help! Head over to the issues and <a href="https://github.com/npm/cli/issues/new?template=bug.md&amp;title=%5BBUG%5D+%3Ctitle%3E">create a new one</a>!</p>
<blockquote class="doxtable">
<p>We'll need a little bit of information about what happened, rather than "it broke". Such as: </p>
</blockquote>
<ul>
<li>When did/does this bug happen?</li>
<li>Can you reproduce it? _(Can you make it happen more than once.)_</li>
<li>What version of <code>node</code>/<code>npm</code> are you running on your computer?</li>
<li>What did you expect it to do?</li>
<li>What did it _actually do?</li>
<li>etc...</li>
</ul>
<h2><a class="anchor" id="autotoc_md3821"></a>
Contributing a Feature?</h2>
<p>Snazzy, we're always up for fancy new things! If the feature is fairly minor, the team can triage it and prioritize it into our backlog. However, if the feature is a little more complex, then it's best to create an <a href="https://en.wikipedia.org/wiki/Request_for_Comments">RFC</a> in our <a href="https://github.com/npm/rfcs">RFC repository</a>. Exactly how to do that is outlined in that repository. If you're not sure <em>exactly</em> how to implement your idea, or don't want to make a document about your idea, then please create an issue on that repository. We consider these RRFC's, or a "Requesting Request For Comment".</p>
<h1><a class="anchor" id="autotoc_md3822"></a>
Development Dependencies</h1>
<p>You'll need a few things installed in order to update and test the CLI project during development:</p>
<ul>
<li><a href="https://nodejs.org/">node</a> v8 or greater</li>
</ul>
<blockquote class="doxtable">
<p>We recommend that you have a <a href="https://github.com/nvm-sh/nvm">node version manager</a> installed if you plan on fixing bugs that might be present in a specific version of node. With a version manager you can easily switch versions of node and test if your changes to the CLI project are working. </p>
</blockquote>
<ul>
<li><a href="https://git-scm.com/">git</a> v2.11+</li>
</ul>
<h1><a class="anchor" id="autotoc_md3823"></a>
Dependencies</h1>
<blockquote class="doxtable">
<p>Package vendoring is commonly referred to as the case where dependent packages are stored in the same place as your project. That usually means you dependencies are checked into your source management system, such as Git. </p>
</blockquote>
<p>The CLI project vendors it's dependencies in the <code>node_modules/</code> folder. Meaning all the dependencies that the CLI project uses are contained withing the project itself. This is represented by the <code>bundledDependencies</code> section in the root level <code>package.json</code> file. The main reason for this is because the <code>npm</code> CLI project is distributed with the NodeJS runtime and needs to work out of the box, which means all dependencies need to be available after the runtime is installed.</p>
<p>There are a couple scripts created to help manage this process in the <code>scripts/</code> folder. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
